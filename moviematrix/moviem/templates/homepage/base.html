{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}MOVIEMATRIX - Your Favorite Movies{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=
    Poppins:wght@300;400;500;600;700;800;900&family=Roboto:wght@300&display=swap" rel="stylesheet">
    <!-- Link to CSS file -->
    <link rel="stylesheet" type="text/css" href="{% static 'styles.css' %}">

    <style>
        /* Add vendor prefixes as needed for broader browser support */
        @keyframes slideRight {
            0% {
                transform: translateX(0);
            }

            100% {
                transform: translateX(calc(-100% * 3)); /* Adjust the number of posters as needed */
            }
        }

        body {
            background-image: url('https://images.leadconnectorhq.com/image/f_webp/q_80/r_768/u_https://assets.cdn.filesafe.space/zqdTo1x3PIK4HeALRHNQ/media/6318f9e44bf09a573f70db74.png');
            font-size: 18px;
            font-family: "Roboto Light", sans-serif;
            margin: 0; /* Remove default margin to make the neon text flush with the edges */
        }

        .neon-container {
            position: fixed;
            top: 0;
            right: 0;
            padding: 20px;
            text-align: right;
            z-index: 1000; /* Ensure the neon text appears on top of other content */
        }

        .neonText {
            font-family: 'Roboto Light', cursive;
            color: #1F51FF;
            text-shadow: 0 0 7px #fff, 0 0 10px #fff, 0 0 21px #fff,
            0 0 42px #5271ff, 0 0 82px #5271ff,
            0 0 92px #5271ff, 0 0 102px #5271ff, 0 0 151px #5271ff;
            font-size: 40px;
        }

        .neonText p {
            font-size: 18px; /* Adjust font size as needed */
        }

        .poster-container {
            overflow: hidden;
        }

        .posters {
            display: flex;
            animation: slideRight 30s linear infinite; /* Adjust the duration as needed */
        }

        .poster {
            flex: 0 0 auto;
            margin-right: 10px; /* Adjust the spacing between posters */
        }

        .posters.paused {
            animation-play-state: paused;
        }

        /* Add your existing styles here */
    </style>
</head>

<body>
    <header>
        {% if user.is_authenticated %}
        <p>Welcome, {{ user.username }}!</p>
        <a href="{% url 'logout' %}">Logout</a>
        {% else %}
        <a href="{% url 'login' %}">Login</a>
        <a href="{% url 'register' %}">Register</a>
        {% endif %}
    </header>
    <div class="neon-container">
        <h1 class="neonText">
            MOVIEMATRIX
        </h1>
        <p class="neonText">
            Your Favorite Movies
        </p>
    </div>

    {% block content %}
    <ul>
        {% for genre in base %}
        <li>
            <a href="{% url 'movie_list' genre.id %}">{{ genre.name }}</a>
        </li>
        {% empty %}
        <li>No genre found</li>
        {% endfor %}
    </ul>

    <div class="poster-container">
        <div class="posters">
            {% for poster in random_posters %}
            <a href="{% url 'movie_details' poster.id %}" class="poster">
                <img src="https://image.tmdb.org/t/p/w200/{{ poster.poster_path }}" alt="{{ poster.title }}">
            </a>
            {% endfor %}
        </div>
    </div>

    <div class="search-bar">
        <form action="/search" method="get">
            <label>
                <input type="text" name="query" placeholder="Search...">
            </label>
            <button type="submit">Search</button>
        </form>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const posters = document.querySelector(".posters");

            posters.addEventListener("mouseenter", function () {
                this.classList.add("paused");
            });

            posters.addEventListener("mouseleave", function () {
                this.classList.remove("paused");
            });
        });
    </script>
    {% endblock %}

    <footer>
        <p>&copy; 2023 MOVIEMATRIX</p>
    </footer>

</body>

</html>
